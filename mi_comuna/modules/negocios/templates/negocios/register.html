{% extends "base.html" %}
{% block content %}

<section class="relative min-h-screen flex items-center justify-center bg-cover bg-center"
         style="background-image: url('{{ url_for('static', filename='img/digua.jpg') }}');">

  <!-- Overlay -->
  <div class="absolute inset-0 bg-gradient-to-br from-purple-900/80 to-blue-900/70"></div>

  <!-- Contenido -->
  <div class="relative z-10 max-w-6xl mx-auto px-6 py-16 grid md:grid-cols-2 gap-12 items-center">

    <!-- Texto lateral -->
    <div class="text-white space-y-6 animate-fadeIn">
      <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
        Impulsa tu <span class="text-yellow-400">Pyme o Negocio</span> ðŸš€
      </h1>
      <p class="text-lg text-gray-200">
        Registra tu empresa y aparece en nuestro portal pagando solo 
        <span class="font-bold text-yellow-400">5.000 CLP mensuales</span>.
      </p>
      <ul class="space-y-2 text-gray-100">
        <li>âœ… Presencia digital en la comuna</li>
        <li>âœ… Publicidad en noticias, avisos y eventos</li>
        <li>âœ… Espacio exclusivo para tu negocio</li>
      </ul>
    </div>

    <!-- Formulario -->
    <div class="bg-white rounded-2xl shadow-2xl p-8 animate-slideUp">
      <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">ðŸ“Œ Registrar Negocio</h2>

      <!-- Mensajes flash -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mb-4 space-y-2">
            {% for category, msg in messages %}
              <div class="px-4 py-3 rounded-lg text-sm
                          {% if category == 'success' %} bg-green-100 text-green-700 border border-green-300
                          {% elif category == 'danger' %} bg-red-100 text-red-700 border border-red-300
                          {% else %} bg-yellow-100 text-yellow-700 border border-yellow-300 {% endif %}">
                {{ msg }}
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <form method="POST" enctype="multipart/form-data" class="space-y-5">
        {{ form.hidden_tag() }}

        <!-- Nombre -->
        <div>
          {{ form.nombre.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.nombre(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
        </div>

        <!-- CategorÃ­a -->
        <div>
          {{ form.categoria_id.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.categoria_id(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
        </div>

        <!-- DescripciÃ³n -->
        <div>
          {{ form.descripcion.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.descripcion(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500", rows="3") }}
        </div>

        <!-- DirecciÃ³n -->
        <div>
          {{ form.direccion.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.direccion(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
        </div>

        <!-- TelÃ©fono y WhatsApp -->
        <div class="grid grid-cols-2 gap-3">
          <div>
            {{ form.telefono.label(class="block text-sm font-medium text-gray-700 mb-1") }}
            {{ form.telefono(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
          </div>
          <div>
            {{ form.whatsapp.label(class="block text-sm font-medium text-gray-700 mb-1") }}
            {{ form.whatsapp(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-green-500") }}
          </div>
        </div>

        <!-- Horario -->
        <div>
          {{ form.horario.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.horario(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
        </div>

        <!-- Redes Sociales -->
        <div>
          {{ form.redes.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.redes(class="w-full rounded-lg border px-3 py-2 shadow-sm focus:ring-2 focus:ring-blue-500") }}
        </div>

        <!-- Imagen -->
        <div>
          {{ form.imagen.label(class="block text-sm font-medium text-gray-700 mb-1") }}
          {{ form.imagen(class="w-full text-sm text-gray-600") }}
        </div>

        <!-- BotÃ³n -->
        <div>
          {{ form.submit(class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2.5 rounded-lg shadow-md transition transform hover:-translate-y-0.5") }}
        </div>
      </form>
    </div>
  </div>
</section>

<!-- Animaciones Tailwind + custom -->
<style>
@keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
@keyframes slideUp { from {opacity:0; transform: translateY(20px);} to {opacity:1; transform: translateY(0);} }
.animate-fadeIn { animation: fadeIn 1s ease-out; }
.animate-slideUp { animation: slideUp 0.8s ease-out; }
</style>

{% endblock %}
